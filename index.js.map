{"version":3,"file":"index.js","sources":["../src/js/render-functions.js","../src/js/pixabay-api.js","../src/main.js"],"sourcesContent":["export function createGalleryMarkup(images) {\n  return images\n    .map(\n      image => `\n    <a href=\"${image.largeImageURL}\" class=\"gallery-item\">\n      <img src=\"${image.webformatURL}\" alt=\"${image.tags}\" class=\"gallery_image\">\n      <div class=\"gallery-info\">\n        <p><b>Likes:</b> ${image.likes}</p>\n        <p><b>Views:</b> ${image.views}</p>\n        <p><b>Comments:</b> ${image.comments}</p>\n        <p><b>Downloads:</b> ${image.downloads}</p>\n      </div>\n    </a>\n  `\n    )\n    .join('');\n}\n","import iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\n\nconst BASE_URL = 'https://pixabay.com/api/';\nconst API_KEY = '47496497-c7088e577ab65ea786e483a4c';\n\niziToast.settings({\n  timeout: 1000,\n  color: '#EF4040',\n  position: 'topRight',\n  titleColor: '#fff',\n  messageColor: '#fff',\n  imageWidth: 24,\n  iconColor: '#fff',\n});\n\nexport function fetchImages(query) {\n  const searchParams = new URLSearchParams({\n    key: `${API_KEY}`,\n    q: query,\n    image_type: 'photo',\n    orientation: 'horizontal',\n    safesearch: true,\n  });\n\n  const url = `${BASE_URL}?${searchParams}`;\n  const options = {\n    method: 'GET',\n    headers: {\n      Accept: 'application/json',\n      Host: 'http://localhost:5173',\n      Origin: 'https://pixabay.com/api',\n    },\n  };\n\n  return fetch(url, options)\n    .then(response => {\n      if (!response.ok) {\n        throw new Error(response.status);\n      }\n      return response.json();\n    })\n    .then(data => {\n      if (data.hits.length === 0) {\n        iziToast.info({\n          title: 'No Results',\n          message:\n            'Sorry, there are no images matching your search query. Please try again!',\n        });\n        return [];\n      }\n      return data.hits;\n    })\n    .catch(error => {\n      iziToast.error({\n        title: 'Error',\n        message: 'Something went wrong. Please try again later.',\n      });\n      return [];\n    });\n}\n","import SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\n\nimport { createGalleryMarkup } from './js/render-functions';\nimport { fetchImages } from './js/pixabay-api';\n\nconst searchForm = document.getElementById('search-form');\nconst gallery = document.querySelector('.gallery');\nconst loader = document.getElementById('loader');\n\nfunction showLoader() {\n  loader.style.display = 'block';\n}\nfunction hideLoader() {\n  loader.style.display = 'none';\n}\nclearGallery();\nshowLoader();\n\nfunction clearGallery() {\n  gallery.innerHTML = '';\n}\n\nsearchForm.addEventListener('submit', handlesForm);\n\nfunction handlesForm(event) {\n  event.preventDefault();\n\n  const query = event.target.elements.searchQuery.value.trim();\n\n  if (!query) {\n    iziToast.warning({\n      title: 'Empty Field',\n      message: 'Please enter a search query.',\n    });\n    return;\n  }\n\n  fetchImages(query).then(images => {\n    hideLoader();\n    if (images.length > 0) {\n      gallery.innerHTML = createGalleryMarkup(images);\n      const lightbox = new SimpleLightbox('.gallery a');\n      lightbox.refresh();\n    }\n    searchForm.reset();\n  });\n}\n"],"names":["createGalleryMarkup","images","image","BASE_URL","API_KEY","iziToast","fetchImages","query","searchParams","url","response","data","error","searchForm","gallery","loader","showLoader","hideLoader","clearGallery","handlesForm","event","SimpleLightbox"],"mappings":"iyBAAO,SAASA,EAAoBC,EAAQ,CAC1C,OAAOA,EACJ,IACCC,GAAS;AAAA,eACAA,EAAM,aAAa;AAAA,kBAChBA,EAAM,YAAY,UAAUA,EAAM,IAAI;AAAA;AAAA,2BAE7BA,EAAM,KAAK;AAAA,2BACXA,EAAM,KAAK;AAAA,8BACRA,EAAM,QAAQ;AAAA,+BACbA,EAAM,SAAS;AAAA;AAAA;AAAA,GAIzC,EACA,KAAK,EAAE,CACZ,CCbA,MAAMC,EAAW,2BACXC,EAAU,qCAEhBC,EAAS,SAAS,CAChB,QAAS,IACT,MAAO,UACP,SAAU,WACV,WAAY,OACZ,aAAc,OACd,WAAY,GACZ,UAAW,MACb,CAAC,EAEM,SAASC,EAAYC,EAAO,CACjC,MAAMC,EAAe,IAAI,gBAAgB,CACvC,IAAK,GAAGJ,CAAO,GACf,EAAGG,EACH,WAAY,QACZ,YAAa,aACb,WAAY,EAChB,CAAG,EAEKE,EAAM,GAAGN,CAAQ,IAAIK,CAAY,GAUvC,OAAO,MAAMC,EATG,CACd,OAAQ,MACR,QAAS,CACP,OAAQ,mBACR,KAAM,wBACN,OAAQ,yBACT,CACL,CAE2B,EACtB,KAAKC,GAAY,CAChB,GAAI,CAACA,EAAS,GACZ,MAAM,IAAI,MAAMA,EAAS,MAAM,EAEjC,OAAOA,EAAS,MACtB,CAAK,EACA,KAAKC,GACAA,EAAK,KAAK,SAAW,GACvBN,EAAS,KAAK,CACZ,MAAO,aACP,QACE,0EACZ,CAAS,EACM,IAEFM,EAAK,IACb,EACA,MAAMC,IACLP,EAAS,MAAM,CACb,MAAO,QACP,QAAS,+CACjB,CAAO,EACM,GACR,CACL,CCtDA,MAAMQ,EAAa,SAAS,eAAe,aAAa,EAClDC,EAAU,SAAS,cAAc,UAAU,EAC3CC,EAAS,SAAS,eAAe,QAAQ,EAE/C,SAASC,GAAa,CACpBD,EAAO,MAAM,QAAU,OACzB,CACA,SAASE,GAAa,CACpBF,EAAO,MAAM,QAAU,MACzB,CACAG,IACAF,IAEA,SAASE,GAAe,CACtBJ,EAAQ,UAAY,EACtB,CAEAD,EAAW,iBAAiB,SAAUM,CAAW,EAEjD,SAASA,EAAYC,EAAO,CAC1BA,EAAM,eAAc,EAEpB,MAAMb,EAAQa,EAAM,OAAO,SAAS,YAAY,MAAM,OAEtD,GAAI,CAACb,EAAO,CACV,SAAS,QAAQ,CACf,MAAO,cACP,QAAS,8BACf,CAAK,EACD,MACD,CAEDD,EAAYC,CAAK,EAAE,KAAKN,GAAU,CAChCgB,IACIhB,EAAO,OAAS,IAClBa,EAAQ,UAAYd,EAAoBC,CAAM,EAC7B,IAAIoB,EAAe,YAAY,EACvC,QAAO,GAElBR,EAAW,MAAK,CACpB,CAAG,CACH"}